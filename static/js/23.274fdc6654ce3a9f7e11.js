webpackJsonp([23],{ZcpI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-window"},[a("el-row",{staticClass:"row",staticStyle:{"padding-top":"20px","padding-left":"20px"}},[a("div",{staticClass:"style-sear",staticStyle:{width:"50px"}},[t._v("仪器：")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-input",{attrs:{size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.serialnum,callback:function(e){t.serialnum="string"==typeof e?e.trim():e},expression:"serialnum"}})],1),t._v(" "),a("div",{staticClass:"style-sear",staticStyle:{"margin-left":"20px"}},[t._v("开始时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.startChange},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticClass:"style-sear",staticStyle:{"margin-left":"20px"}},[t._v("结束时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.endChange},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("div",{staticClass:"ser-but"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.searchBtn()}}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"ser-but"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){return t.clearPart()}}},[t._v("清空")])],1)]),t._v(" "),a("div",{staticClass:"list-div",staticStyle:{"padding-top":"60px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.$store.state.loading,expression:"$store.state.loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"dtuId",label:"仪器"}}),t._v(" "),a("el-table-column",{attrs:{prop:"receiptCode",label:"状态",formatter:t.staut}}),t._v(" "),a("el-table-column",{attrs:{prop:"commandName",label:"下发指令",formatter:t.comd}}),t._v(" "),t._v(' "">')],1),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination-div"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":t.pagination.currentPage,total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"currentPage",e)},"update:current-page":function(e){return t.$set(t.pagination,"currentPage",e)},"current-change":t.current_change}})],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")({name:"list-window",data:function(){return{startTime:"",endTime:"",searchStart:"",searchEnd:"",DTU_ID:"",serialnum:"",pageSerialnum:"",pagination:{currentPage:1,total:1,page:1},pageShow:!1,tableData:[],loading:!0}},mounted:function(){this.search(1,10,"","","")},methods:{staut:function(t){return 200!=t.receiptCode?"失败":"成功"},comd:function(t){return"UpdateConfig"==t.commandName?"更新配置":"ReportTimeInterval"==t.commandName?"上报时间间隔":"UpdateFirmware"==t.commandName?"更新固件":"Reboot"==t.commandName?"重启":void 0},search:function(t,e,a,i,s){var n=this;this.$RequestUtil.post({url:"/test/getDtuJobHistory",params:{page:t,rows:e,id:s,startTime:a,endTime:i},success:function(t){n.pagination.total=t.total,n.tableData=t.list,n.pagination.total>10?n.pageShow=!0:n.pageShow=!1}})},clearPart:function(){this.searchStart=this.startTime="",this.searchEnd=this.endTime="",this.DTU_ID=this.serialnum="",this.search(1,10,this.searchStart,this.searchEnd,this.DTU_ID)},searchBtn:function(){this.searchStart=this.startTime,""!=this.endTime&&null!=this.endTime?this.searchEnd=this.endTime+" 23:59:59":this.searchEnd="",this.DTU_ID=this.serialnum,this.search(1,10,this.searchStart,this.searchEnd,this.DTU_ID)},current_change:function(t){this.pagination.page=t,this.search(this.pagination.page,10,this.searchStart,this.searchEnd)},startChange:function(){this.startTime>this.endTime&&""!=this.endTime&&(this.startTime="",this.$message({type:"warning",message:"开始时间不能大于结束时间"}))},endChange:function(){this.startTime>this.endTime&&""!=this.startTime&&(this.endTime="",this.$message({type:"warning",message:"结束时间不能小于开始时间"}))}}},i,!1,function(t){a("av9B"),a("rfUz")},"data-v-d3af4c20",null);e.default=s.exports},av9B:function(t,e){},rfUz:function(t,e){}});