webpackJsonp([10],{"+qjV":function(t,e){},"2d3i":function(t,e){},NNjN:function(t,e){},UidW:function(t,e){},"d/UH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"device-List"},[a("el-row",{staticClass:"other-mian list-div"},[a("el-row",{staticClass:"top-title"},[t._v("已绑定的设备")]),t._v(" "),a("el-row",{staticClass:"tab"},[a("el-row",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-row-class-name":"table-header-color"}},[a("el-table-column",{attrs:{prop:"equCode",label:"设备编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"equName",label:"设备名称"}})],1)]],2),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.current_change}})],1)],1)],1)],1)},staticRenderFns:[]};var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deviceList"},[a("el-row",{staticClass:"other-mian"},[a("el-row",{staticClass:"top-title"},[t._v("状态历史查询")]),t._v(" "),a("el-row",[a("div",{staticClass:"style-sear"},[t._v("开始时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.startChange},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticClass:"style-sear"},[t._v("结束时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.endChange},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("div",{staticClass:"ser-but"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("查询")])],1)]),t._v(" "),a("el-row",{staticClass:"tab"},[a("el-row",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"gmtCreate",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"描述信息",align:"left"}})],1)]],2),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.current_change}})],1)],1)],1)],1)},staticRenderFns:[]};var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"warn-his"},[a("el-row",{staticClass:"other-mian"},[a("el-row",{staticClass:"top-title"},[t._v("警告历史查询")]),t._v(" "),a("el-row",[a("div",{staticClass:"style-sear"},[t._v("开始时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.startChange},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticClass:"style-sear"},[t._v("结束时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.endChange},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("div",{staticClass:"ser-but"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("查询")])],1)]),t._v(" "),a("el-row",{staticClass:"tab"},[a("el-row",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"happenTime",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"warnType",label:"类型"}}),t._v(" "),t._v(' "">\n                      ')],1)]],2),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.current_change}})],1)],1)],1)],1)},staticRenderFns:[]};var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dtu-telemetry"},[a("el-row",{staticClass:"other-mian"},[a("el-row",{staticClass:"top-title"},[t._v("遥测监控查询")]),t._v(" "),a("el-row",{staticClass:"tab"},[a("el-row",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"dtuId",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"installTime",label:"时间"}})],1)]],2),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.current_change}})],1)],1)],1)],1)},staticRenderFns:[]};var l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ope-his"},[a("el-row",{staticClass:"other-mian"},[a("el-row",{staticClass:"top-title"},[t._v("操作历史查询")]),t._v(" "),a("el-row",[a("div",{staticClass:"style-sear"},[t._v("开始时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.startChange},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),t._v(" "),a("div",{staticClass:"style-sear"},[t._v("结束时间:")]),t._v(" "),a("div",{staticClass:"time-input"},[a("el-date-picker",{attrs:{editable:!1,type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:t.endChange},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("div",{staticClass:"ser-but"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("查询")])],1)]),t._v(" "),a("el-row",{staticClass:"tab"},[a("el-row",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"operateUser",label:"操作人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operateInfo",label:"操作"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operateDetail",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operateTime",label:"时间"}})],1)]],2),t._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.current_change}})],1)],1)],1)],1)},staticRenderFns:[]};var o={name:"dtu-list",components:{deviceList:a("C7Lr")({name:"device-List",props:["dtuIds","deviceInfoFlag","dTUUP"],data:function(){return{remoteLoading:!1,restaurants:[],page:"1",total:0,pageShow:!1,ruleForm:{sen:"",equipId:""},timeout:null,rules:{sen:[{required:!0,message:"请输入设备编号",trigger:"change"}]},tableData:[]}},mounted:function(){this.search(this.page)},created:function(){this.$watch("deviceInfoFlag",function(t,e){"1"==t&&this.search(this.page)})},methods:{loadAll:function(){this.$RequestUtil.post({url:"/test/getAllUnbindEquip",params:{code:this.ruleForm.sen},success:function(t){return t.list}})},handleSelect:function(t){this.ruleForm.equipId=t.equId},current_change:function(t){this.page=t,this.search(this.page)},search:function(t){var e=this;this.$RequestUtil.post({url:"/device/dtu/getEquipByDtuId",params:{page:t,rows:10,id:this.dtuIds},success:function(t){e.total=t.totalPages,e.tableData=t.data,e.total>10?e.pageShow=!0:e.pageShow=!1}})}}},s,!1,function(t){a("NNjN")},"data-v-122f29a8",null).exports,stautsHis:a("C7Lr")({name:"deviceList",props:["stautsHisFlag","dtuIds","DTU_ID"],data:function(){return{total:0,pageShow:!1,startTime:"",endTime:"",teamuser:"",tableData:[],startPage:"",endPage:""}},methods:{current_change:function(t){this.search(t,10,this.startPage,this.endPage)},submitForm:function(){this.startPage=this.startTime,""!=this.endTime&&null!=this.endTime?this.endPage=this.endTime+" 23:59:59":this.endPage="",this.search("1",10,this.startPage,this.endPage)},search:function(t,e,a,s){var r=this;this.$RequestUtil.post({url:"/test/getStatusHistory",params:{page:t,rows:e,id:this.DTU_ID,startTime:a,endTime:s},success:function(t){r.total=t.total,r.tableData=t.list,r.total>10?r.pageShow=!0:r.pageShow=!1}})},startChange:function(){this.startTime>this.endTime&&""!=this.endTime&&(this.startTime="",this.$message({type:"warning",message:"开始时间不能大于结束时间"}))},endChange:function(){this.startTime>this.endTime&&""!=this.startTime&&(this.endTime="",this.$message({type:"warning",message:"结束时间不能小于开始时间"}))}},created:function(){this.$watch("stautsHisFlag",function(t,e){"1"==t&&this.search("1",10,"","")})}},r,!1,function(t){a("xjmi")},"data-v-59887f0a",null).exports,dtuWarnHis:a("C7Lr")({name:"warn-his",props:["warnHisFlag","dtuIds","DTU_ID"],data:function(){return{total:0,pageShow:!1,startTime:"",endTime:"",tableData:[],startPage:"",endPage:""}},methods:{current_change:function(t){this.search(t,10,this.startPage,this.endPage)},submitForm:function(){this.startPage=this.startTime,""!=this.endTime&&null!=this.endTime?this.endPage=this.endTime+" 23:59:59":this.endPage="",this.search("1",10,this.startPage,this.endPage)},startChange:function(){this.startTime>this.endTime&&""!=this.endTime&&(this.startTime="",this.$message({type:"warning",message:"开始时间不能大于结束时间"}))},endChange:function(){this.startTime>this.endTime&&""!=this.startTime&&(this.endTime="",this.$message({type:"warning",message:"结束时间不能小于开始时间"}))},search:function(t,e,a,s){var r=this;this.$RequestUtil.post({url:"/test/getWarningHistory",params:{page:t,rows:e,id:this.DTU_ID,startTime:a,endTime:s},success:function(t){r.total=t.total,r.tableData=t.list,r.total>10?r.pageShow=!0:r.pageShow=!1}})}},created:function(){this.$watch("warnHisFlag",function(t,e){"1"==t&&this.search("1",10,"","")})}},i,!1,function(t){a("+qjV")},"data-v-f7958154",null).exports,dtuTelemetry:a("C7Lr")({name:"dtu-telemetry",props:["dtuTelemetryFlag","dtuIds"],data:function(){return{total:0,pageShow:!1,time:"",tableData:[]}},methods:{current_change:function(t){this.search(t)},search:function(t){var e=this;this.$RequestUtil.post({url:"/test/getDtuTelemeterData",params:{page:t,rows:10,id:this.dtuIds},success:function(t){e.total=t.total,e.tableData=t.list,e.total>10?e.pageShow=!0:e.pageShow=!1}})}},created:function(){this.$watch("dtuTelemetryFlag",function(t,e){"1"==t&&this.search("1")})}},n,!1,function(t){a("UidW")},"data-v-b05c25b4",null).exports,dtuOpeHis:a("C7Lr")({name:"ope-his",props:["dtuOpeHisFlag","dtuIds"],data:function(){return{total:0,pageShow:!1,time:"",tableData:[],startPage:"",endPage:"",startTime:"",endTime:""}},methods:{current_change:function(t){this.search(t,10,this.startPage,this.endPage)},submitForm:function(){this.startPage=this.startTime,""!=this.endTime&&null!=this.endTime?this.endPage=this.endTime+" 23:59:59":this.endPage="",this.search("1",10,this.startPage,this.endPage)},search:function(t,e,a,s){var r=this;this.$RequestUtil.post({url:"/test/getOperateHistory",params:{page:t,rows:e,id:this.dtuIds,startTime:a,endTime:s},success:function(t){r.total=t.total,r.tableData=t.list,r.total>10?r.pageShow=!0:r.pageShow=!1}})},startChange:function(){this.startTime>this.endTime&&""!=this.endTime&&(this.startTime="",this.$message({type:"warning",message:"开始时间不能大于结束时间"}))},endChange:function(){this.startTime>this.endTime&&""!=this.startTime&&(this.endTime="",this.$message({type:"warning",message:"结束时间不能小于开始时间"}))}},created:function(){this.$watch("dtuOpeHisFlag",function(t,e){"1"==t&&this.search("1",10,"","")})}},l,!1,function(t){a("2d3i")},"data-v-73526ec7",null).exports},data:function(){var t=this;return{dtuId:"",deviceInfoFlag:"0",stautsHisFlag:"0",warnHisFlag:"0",dtuTelemetryFlag:"0",dtuProHisFlag:"0",dtuOpeHisFlag:"0",activeName:"first",dtuInfo:{},DTU_ID:"",SIM_CDE:"",DTU_STYPE:"",DTU_WORK:"",DTU_UP:"",ORG_NAME:"",boundConfigName:"",boundProtocol:"",sequence:"",platformType:"",timeshow:!1,workOptions:[],commandForm:{commandSelectionValue:""},commandRules:{commandSelectionValue:[{required:!0,message:"请选择协议",trigger:"change"}]},parmSelect:[],workForm:{frequencyValue:"",radio:"0",time:""},pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},workRules:{frequencyValue:[{required:!0,message:"请选择指令",trigger:"change"}],input:[{required:!0,message:"请输入参字符串",trigger:"blur"}],time:[{required:!0,message:"请选择",trigger:"change"},{required:!0,validator:function(t,e,a){e.getTime()<Date.now()?a(new Error("作业执行时间不能小于当前时间")):a()},trigger:"blur"}],selsct:[{required:!0,message:"请选择",trigger:"change"}],num:[{required:!0,message:"请输入参整数",trigger:"blur"},{pattern:/^[0-9]*$/,message:"请输入整数"}],float:[{required:!0,message:"请输入参数值",trigger:"blur"},{pattern:/^([0-9]+\.)?[0-9]+$/,message:"请输入数值"}]},frequencyType:[{value:1,label:"采集"},{value:2,label:"上报"}],frequencyArray:[],commandSelection:[],protocolDialog:{isShow:!1,devices:null,configDialog:{isShow:!0,stepActive:0,ptlId:null},btns:{preBtn:{isShow:!1},nextBtn:{name:"下一步"}}},configForm:{rules:{configName:[{required:!0,validator:function(e,a,s){""!=a?t.$RequestUtil.get({url:"/device/PCRController/checkConfigName",params:{configName:a},success:function(t){t.data.flag?s():s(new Error("该配置名称已被使用"))}}):s(new Error("配置名称不能为空"))},trigger:"blur"}],ip:[{required:!0,validator:function(t,e,a){""!=e?new RegExp("^(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|[1-9])\\.(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)\\.(1\\d{2}|2[0-4]\\d|25[0-5]|[1-9]\\d|\\d)$").test(e)?a():a(new Error("ip地址格式错误")):a(new Error("请输ip地址"))},trigger:"blur"}],port:[{required:!0,validator:function(t,e,a){""!=e?e.includes(".")||isNaN(e)||e>65535||e<0?a(new Error("端口号格式错误")):a():a(new Error("请输端口号"))},trigger:"blur"}]},configName:"",configInfo:"",pointConf:[],ip:"",port:"",deviceId:null,deviceCode:"",protocolId:null,protocolName:"",protocolFileName:"",templateUrl:"",templateType:""},protocolTreeData:{data:[],defaultProps:{children:"children",label:"label"},selected:null},configSubmitData:{dtuId:null,configName:"",configInfo:"",configs:[]},templateStyles:{1:[{id:1,prop:"ID",label:"ID",width:"80",type:"int"},{id:2,prop:"RegID",label:"RegID",width:"120"},{id:3,prop:"DevID",label:"DevID",width:"120"},{id:4,prop:"Address",label:"Address",width:"160"},{id:5,prop:"AcName",label:"AcName",width:"120"},{id:6,prop:"DataID",label:"DataID",width:"120"},{id:7,prop:"DataSize",label:"DataSize",width:"140",type:"int"},{id:8,prop:"DecimalPoint",label:"DecimalPoint",width:"160",type:"int"}],2:[{id:1,prop:"ID",label:"ID",width:"80",type:"int"},{id:2,prop:"RegID",label:"RegID",width:"120"},{id:3,prop:"RegName",label:"RegName",width:"140"},{id:4,prop:"StartAddress",label:"StartAddress",width:"160",type:"int"},{id:5,prop:"Size",label:"Size",width:"100"},{id:6,prop:"AcName",label:"AcName",width:"140"},{id:7,prop:"Address",label:"Address",width:"120",type:"int"},{id:8,prop:"DevID",label:"DevID",width:"120"},{id:9,prop:"DataType",label:"DataType",width:"140"},{id:10,prop:"Bit",label:"Bit",width:"80",type:"int"}]},pointConfRules:[{required:!0,message:"请输入",trigger:"blur"}],pointConfIntRules:[{validator:function(t,e,a){/^[0-9]+$/.test(e.trim())||a(new Error("请输入数值")),a()},trigger:"blur"}],dtuBindDevice:[],showFramware:!1,allFramwareList:[],changeFramware:{framwareId:"",framwareVersion:"",download:""},framwareRule:{framwareId:[{required:!0,message:"请选择固件",trigger:"change"}]}}},computed:{selectedCommand:function(){var t=this;return this.workOptions.filter(function(e){return t.workForm.frequencyValue===e.id})[0]},getParams:function(){this.dtuId=this.$route.query.id}},watch:{$route:"getParams"},mounted:function(){this.searchDev(),this.workSelect(),this.getAllFramwore()},methods:{freSub:function(t){var e=this,a="";a=2===this.selectedCommand.instructType?"fram-form":"workForm1",0!==this.dtuInfo.isEnable?this.$refs[a].validate(function(t){if(t){var a,s=e.workOptions.filter(function(t){return t.id===e.workForm.frequencyValue})[0].instructName,r=void 0;if(r=2===e.selectedCommand.instructType?[{instructK:"FirmwareUrl",instructV:e.changeFramware.download,instructVT:2}]:e.workForm.workParms.map(function(t){return{instructK:t.instructK,instructV:t.instructV,instructVT:t.instructVT}}),"SetInterval"===(a={instructId:e.workForm.frequencyValue,methodName:e.workForm.methodName,instructName:s,dtuId:e.dtuId,dtuImei:e.dtuInfo.imei,instructContent:r,designatedExecuteTime:e.workForm.time}).methodName&&e.dtuInfo.offLineDuration&&e.workForm.workParms[0].instructV>60*e.dtuInfo.offLineDuration)return void e.$confirm("采集频率不能超过DTU离线间隔时间（"+e.dtuInfo.offLineDuration+"分钟）","提示",{showConfirmButton:!1,cancelButtonText:"确定",type:"warning"});e.$confirm("确认下发指令？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.freSubUrl(a)})}}):this.$confirm("该DTU已禁用，无法下发指令！","提示",{showConfirmButton:!1,cancelButtonText:"确定",type:"warning"})},freSubUrl:function(t,e){var a=this;e&&(t.isRun=e),this.$RequestUtil.post({url:"/device/instruct/sendInstruct",params:t,type:"sync",success:function(e){"warn"!=e.result?("success"==e.result&&a.$eventBus.$emit("triggerMsg",e.data),a.$message({type:e.result,message:e.msg})):a.$confirm(e.msg,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.freSubUrl(t,1)})}})},selFirmware:function(t){var e=this.allFramwareList.filter(function(e){return e.id===t});this.changeFramware.framwareVersion=e[0].firmwareVersion,this.changeFramware.download=e[0].download},framwareClose:function(t){t()},toChangeFramware:function(){this.showFramware=!0},getAllFramwore:function(){var t=this;this.$RequestUtil.post({url:"/device/firmware/getFirmwareListNoPage",params:{id:this.dtuId},success:function(e){e&&"success"==e.result&&(t.allFramwareList=e.data,t.allFramwareList.unshift({id:"",firmwareVersion:"全部"}),t.changeFramware.framwareId=t.allFramwareList[0].id)}})},searchDev:function(){var t=this;this.$RequestUtil.post({url:"/device/dtu/infoToDtu",params:{id:this.dtuId},success:function(e){t.dtuInfo=e.data,"0"==t.dtuInfo.platform?t.dtuInfo.platformMsg="微软IOT平台":t.dtuInfo.platformMsg="阿里云IOT平台"}})},handleClick:function(t,e){this.dtuProHisFlag="0","pane-second"==t.$el.id?this.deviceInfoFlag="1":"pane-third"==t.$el.id&&(this.dtuProHisFlag="1")},selectChange:function(){for(var t=0;t<this.workOptions.length;t++)this.workForm.frequencyValue==this.workOptions[t].id&&(this.workForm.workParms=this.workOptions[t].instructContent,this.workForm.methodName=this.workOptions[t].methodName)},workSelect:function(){var t=this;this.$RequestUtil.post({url:"/device/instruct/getInstructList",params:{},success:function(e){t.workOptions=e.data}})},radShow:function(t){this.timeshow="2"==t},upLoadSuccess:function(t,e,a){0!=t.code?(this.$message({type:"error",message:t.message}),this.$refs.upload.clearFiles()):this.configForm.pointConf=t.data}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dtu-list"},[a("el-row",[[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[a("el-row",{staticClass:"first-top bg-plate"},[a("el-row",{staticClass:"top-title"},[t._v("基本信息")]),t._v(" "),a("el-row",{staticClass:"line"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"spanClass el-inputcss"},[t._v("IMEI号：")]),t._v(" "),a("span",{staticClass:"line-span"},[t._v(t._s(t.dtuInfo.imei))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"spanClass el-inputcss"},[t._v("固件版本：")]),t._v(" "),a("span",{staticClass:"line-span"},[t._v(t._s(t.dtuInfo.firmwareVersionName))])])],1),t._v(" "),a("el-row",{staticClass:"line"},[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"spanClass el-inputcss"},[t._v("iccid：")]),t._v(" "),a("span",{staticClass:"line-span"},[t._v(t._s(t.dtuInfo.iccid))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"spanClass el-inputcss"},[t._v("地址：")]),t._v(" "),a("span",{staticClass:"line-span"},[t._v(t._s(t.dtuInfo.address))])])],1)],1),t._v(" "),t.$PERMISSION.DTU_WRITE?a("el-row",{staticClass:"first-bottom bg-plate",staticStyle:{overflow:"auto"}},[a("el-row",{staticClass:"top-title"},[t._v("指令下发")]),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form",{ref:"workForm",attrs:{model:t.workForm,rules:t.workRules,"label-width":"100px"}},[a("el-row",{staticClass:"line-bottom line-top"},[a("el-col",{staticClass:"commd-Left"},[a("el-form-item",{staticClass:"el-inputcss",attrs:{label:"指令名称：",prop:"frequencyValue"}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"请选择"},on:{change:t.selectChange},model:{value:t.workForm.frequencyValue,callback:function(e){t.$set(t.workForm,"frequencyValue",e)},expression:"workForm.frequencyValue"}},t._l(t.workOptions,function(t){return a("el-option",{key:t.id,attrs:{label:t.instructName,value:t.id}})}),1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"radioSmall"},[a("el-form-item",{staticClass:"radio el-inputcss",staticStyle:{"margin-left":"1px"},attrs:{label:"执行时间："}},[a("el-radio-group",{staticStyle:{width:"300px"},model:{value:t.workForm.radio,callback:function(e){t.$set(t.workForm,"radio",e)},expression:"workForm.radio"}},[a("el-radio",{attrs:{label:"0"},on:{change:function(e){return t.radShow(1)}}},[t._v("立即执行")]),t._v(" "),a("el-radio",{attrs:{label:"1"},on:{change:function(e){return t.radShow(2)}}},[t._v("自定义时间")])],1)],1)],1)],1),t._v(" "),a("el-row",[t.timeshow?a("el-col",{staticClass:"timSmall",attrs:{offset:5}},[a("el-form-item",{attrs:{label:"",prop:"time","label-width":"0px"}},[a("date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.workForm.time,callback:function(e){t.$set(t.workForm,"time",e)},expression:"workForm.time"}})],1)],1):t._e()],1)],1)],1)],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-top":"20px",height:"calc(100% - 80px)",overflow:"auto"},attrs:{span:10}},[t.selectedCommand&&2===t.selectedCommand.instructType?a("el-form",{ref:"fram-form",attrs:{model:t.changeFramware,rules:t.framwareRule,"label-width":"80px"}},[a("el-form-item",{staticClass:"el-inputcss",attrs:{"label-width":"120px",label:"新固件版本：",prop:"framwareId"}},[a("el-select",{attrs:{placeholder:"请选择固件版本"},on:{change:t.selFirmware},model:{value:t.changeFramware.framwareId,callback:function(e){t.$set(t.changeFramware,"framwareId",e)},expression:"changeFramware.framwareId"}},t._l(t.allFramwareList,function(t){return a("el-option",{key:t.id,attrs:{label:t.firmwareVersion,value:t.id}})}),1)],1)],1):a("el-form",{ref:"workForm1",attrs:{model:t.workForm,rules:t.workRules,"label-width":"100px"}},t._l(t.workForm.workParms,function(e,s){return a("el-col",{key:e.instructId},[3==e.instructVT?a("el-form-item",{staticClass:"el-inputcss",attrs:{label:e.instructK+"：",prop:"workParms."+s+".instructV",rules:t.workRules.selsct}},[a("el-select",{staticClass:"input-width",attrs:{placeholder:"请选择"},model:{value:e.instructV,callback:function(a){t.$set(e,"instructV",a)},expression:"n.instructV"}},[a("el-option",{attrs:{label:"true",value:1}}),t._v(" "),a("el-option",{attrs:{label:"false",value:0}})],1)],1):t._e(),t._v(" "),1===e.instructVT?a("el-form-item",{staticClass:"el-inputcss",attrs:{label:e.instructK+"：",prop:"workParms."+s+".instructV",rules:t.workRules.num}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入非负整数"},model:{value:e.instructV,callback:function(a){t.$set(e,"instructV",a)},expression:"n.instructV"}})],1):t._e(),t._v(" "),2===e.instructVT?a("el-form-item",{staticClass:"el-inputcss",attrs:{label:e.instructK+"：",prop:"workParms."+s+".instructV",rules:t.workRules.input}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入字符串"},model:{value:e.instructV,callback:function(a){t.$set(e,"instructV",a)},expression:"n.instructV"}})],1):t._e(),t._v(" "),4===e.instructVT?a("el-form-item",{staticClass:"el-inputcss",attrs:{label:e.instructK+"：",prop:"workParms."+s+".instructV",rules:t.workRules.float}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入数值"},model:{value:e.instructV,callback:function(a){t.$set(e,"instructV",a)},expression:"n.instructV"}})],1):t._e()],1)}),1)],1),t._v(" "),a("el-col",{staticStyle:{height:"calc(100% - 60px)"},attrs:{span:6}},[a("el-button",{staticStyle:{position:"absolute",bottom:"35px",right:"50px"},attrs:{type:"primary",size:"small"},on:{click:function(){t.$refs.workForm.validate(function(e){e&&t.freSub()})}}},[t._v("确认")])],1)],1):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"已绑定的设备",name:"second"}},[a("deviceList",{attrs:{"dtu-ids":t.dtuId,deviceInfoFlag:t.deviceInfoFlag,DTU_UP:t.DTU_UP}})],1)],1)]],2)],1)},staticRenderFns:[]};var u=a("C7Lr")(o,c,!1,function(t){a("mHjo"),a("kHiK")},"data-v-1a8c8bce",null);e.default=u.exports},kHiK:function(t,e){},mHjo:function(t,e){},xjmi:function(t,e){}});