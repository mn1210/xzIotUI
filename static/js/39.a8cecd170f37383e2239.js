webpackJsonp([39],{hfeV:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"list-window"},[t("div",{staticClass:"window"},[t("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.addForm,"label-width":"100px"}},[t("span",{staticClass:"span_font"},[e._v("数据采集")]),e._v(" "),t("div",{staticClass:"y_flex"},[t("span",{staticClass:"span-flex"},[e._v("采集频率（秒） :")]),e._v(" "),t("el-form-item",{staticClass:"y_flex_demo",attrs:{"label-width":"10px",prop:"uploadFrequency"}},[t("el-input-number",{staticClass:"input_style_left",attrs:{type:"number",min:60,max:86400},model:{value:e.addForm.uploadFrequency,callback:function(a){e.$set(e.addForm,"uploadFrequency",a)},expression:"addForm.uploadFrequency"}})],1)],1),e._v(" "),t("span",{staticClass:"span_font"},[e._v("告警配置")]),e._v(" "),t("div",{staticClass:"y_flex"},[t("span",{staticClass:"span-flex"},[e._v("离线判断时间（分钟） :")]),e._v(" "),t("el-form-item",{staticClass:"y_flex_demo",attrs:{"label-width":"10px",prop:"offLineDuration"}},[t("el-input-number",{staticClass:"input_style_left",attrs:{type:"number",min:5,max:10080},model:{value:e.addForm.offLineDuration,callback:function(a){e.$set(e.addForm,"offLineDuration",a)},expression:"addForm.offLineDuration"}})],1)],1),e._v(" "),t("div",{staticClass:"y_flex"},[t("span",{staticClass:"span-flex"},[e._v("是否生成离线告警 :")]),e._v(" "),t("el-form-item",{staticClass:"y_flex_demo",attrs:{"label-width":"10px",prop:"offLineAlarm"}},[t("el-radio-group",{model:{value:e.addForm.offLineAlarm,callback:function(a){e.$set(e.addForm,"offLineAlarm",a)},expression:"addForm.offLineAlarm"}},[t("el-radio",{staticClass:"radio_style_left",attrs:{label:0}},[e._v("否")]),e._v(" "),t("el-radio",{staticClass:"radio_style_left",attrs:{label:1}},[e._v("是")])],1)],1)],1),e._v(" "),t("div",{staticClass:"y_flex"},[t("span",{staticClass:"span-flex"},[e._v("告警是否推送 :")]),e._v(" "),t("el-form-item",{staticClass:"y_flex_demo",attrs:{"label-width":"10px",prop:"sendNeed"}},[t("el-radio-group",{model:{value:e.addForm.sendNeed,callback:function(a){e.$set(e.addForm,"sendNeed",a)},expression:"addForm.sendNeed"}},[t("el-radio",{staticClass:"radio_style_left",attrs:{label:0}},[e._v("否")]),e._v(" "),t("el-radio",{staticClass:"radio_style_left",attrs:{label:1}},[e._v("是")])],1)],1)],1),e._v(" "),t("div",{staticClass:"y_flex"},[t("el-button",{staticStyle:{"margin-left":"90%"},attrs:{type:"primary",size:"small"},on:{click:function(a){return e.addConfig("addForm")}}},[e._v("提交")])],1)])],1)])},staticRenderFns:[]};var r=t("C7Lr")({name:"sys-config",data:function(){return{addForm:{uploadFrequency:300,offLineDuration:15,offLineAlarm:0,sendNeed:0,id:""},rules:{uploadFrequency:[{required:!0,message:"请输入采集频率",trigger:"blur"}],offLineDuration:[{required:!0,message:"请输入离线判断时间",trigger:"blur"}]}}},mounted:function(){this.getConfig()},methods:{getConfig:function(){var e=this;this.$RequestUtil.post({url:"/device/sysPlatformConfigure/getSystemPlatformConfigure",params:{},success:function(a){null!=a.data&&(e.addForm=a.data,e.addForm.uploadFrequency=a.data.uploadFrequency,e.addForm.offLineDuration=a.data.offLineDuration,e.addForm.offLineAlarm=a.data.offLineAlarm,e.addForm.sendNeed=a.data.sendNeed)}})},addConfig:function(e){var a=this;this.$refs[e].validate(function(e){e&&a.$RequestUtil.post({url:"/device/sysPlatformConfigure/updateSystemPlatformConfigure",params:{id:1,uploadFrequency:a.addForm.uploadFrequency,offLineDuration:a.addForm.offLineDuration,offLineAlarm:a.addForm.offLineAlarm,sendNeed:a.addForm.sendNeed},success:function(e){"success"===e.result?a.$message({type:"success",message:e.msg}):a.$message({type:"error",message:e.msg})}})})}}},s,!1,function(e){t("l2AC")},"data-v-7a193edb",null);a.default=r.exports},l2AC:function(e,a){}});